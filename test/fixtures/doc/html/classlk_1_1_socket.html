<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>lubyk: lk::Socket Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">lubyk
   &#160;<span id="projectnumber">0.5</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespacelk.html">lk</a>      </li>
      <li class="navelem"><a class="el" href="classlk_1_1_socket.html">Socket</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">lk::Socket Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="lk::Socket" --><!-- doxytag: inherits="lubyk::LuaObject" -->
<p><code>#include &lt;<a class="el" href="lk_2include_2lk_2_socket_8h_source.html">Socket.h</a>&gt;</code></p>

<p>Inherits <a class="el" href="classlubyk_1_1_lua_object.html">lubyk::LuaObject</a>.</p>

<p><a href="classlk_1_1_socket-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlk_1_1_socket.html#abe2b7218a4b570e018867cd8c4ff2df6">SocketType</a> { <a class="el" href="classlk_1_1_socket.html#abe2b7218a4b570e018867cd8c4ff2df6a9443335bd7ba34c6e9297943837371d0">TCP</a> =  SOCK_STREAM, 
<a class="el" href="classlk_1_1_socket.html#abe2b7218a4b570e018867cd8c4ff2df6a26281914ac3cb16c1482b5c12adc1693">UDP</a> =  SOCK_DGRAM
 }</td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlk_1_1_socket.html#a83ae0e009378df030f058b91ae9856a8">Socket</a> (int socket_type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlk_1_1_socket.html#ad0adeb2122804372573b9ab789812a32">~Socket</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlk_1_1_socket.html#a76248c35f251aa3f65b9bf5674ec5c9c">close</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlk_1_1_socket.html#a4d2480874baed1375078906ba43dcb32">bind</a> (const char *localhost=NULL, int port=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlk_1_1_socket.html#a3d100f48cdd22bbdbe95ae3436a5ae53">connect</a> (const char *host, int port)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlk_1_1_socket.html#aa0d702461591f94aab61901e4e7a7571">connectFinish</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlk_1_1_socket.html#ad75a0c97be6ab0bbdd39c1389b710dcf">listen</a> (int backlog=BACKLOG)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="lk_2include_2lk_2_socket_8h.html#a038a308a5e7246ac41ca22c43d7209d1">LuaStackSize</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlk_1_1_socket.html#acb4fb9742882c0031ed9d024e974352d">accept</a> (lua_State *L)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlk_1_1_socket.html#a2807a0dc800e448736a0bc78dff6a189">setRecvTimeout</a> (int timeout)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlk_1_1_socket.html#a670d8548ee9884f2eced8e84fb4467ce">setSendTimeout</a> (int timeout)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlk_1_1_socket.html#ab5cda8b77898e7352d726a09cafd971b">setNonBlocking</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="lk_2include_2lk_2_socket_8h.html#a038a308a5e7246ac41ca22c43d7209d1">LuaStackSize</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlk_1_1_socket.html#a35eba74ff9a0ed5ac80ed3726b2a2098">recv</a> (lua_State *L)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlk_1_1_socket.html#a53b72311051bb0b8c7c8991d29637c81">send</a> (lua_State *L)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlk_1_1_socket.html#a11c46a4c0dd605b83ab6dc774c8ff8f1">localHost</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlk_1_1_socket.html#a5f760e4ea2b87d0d2fc88b196513d15f">localPort</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlk_1_1_socket.html#a3256d01583c6eaa054e7c7045ccb1ed0">remoteHost</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlk_1_1_socket.html#a6bc589c2cf9674f0358f73574b4ce46c">remotePort</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlk_1_1_socket.html#ab12d3a828bc6e9bdd3d07707ddf922fc">port</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlk_1_1_socket.html#a26a08ec0c745f7e3a123694a4e116745">fd</a> () const </td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlk_1_1_socket.html#a9c0c4845a198a55574d3dc15997971c9">Socket</a> (int fd, const char *local_host, const char *remote_host, int remote_port)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlk_1_1_socket.html#a85abcb14431946a2bcf7667d1be3b48d">run</a> (<a class="el" href="classlubyk_1_1_thread.html">Thread</a> *runner)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlk_1_1_socket.html#ae159b1b2479c93344ea0d3d0740e4e8a">recvLine</a> (lua_State *L)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlk_1_1_socket.html#adf259717b23a39f2468b1a3868ff59ac">recvBytes</a> (lua_State *L, int sz)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlk_1_1_socket.html#a68adc3b118217f295ece83755165e85b">recvAll</a> (lua_State *L)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlk_1_1_socket.html#af6cda39a2671489150e9aecc069e369a">setTimeout</a> (int timeout, int opt_name)</td></tr>
<tr><td colspan="2"><h2><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlk_1_1_socket.html#a64a9baf86f2a2bf3779675ede1d3c51c">get_port</a> (int fd)</td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlk_1_1_socket.html#aec2063fff094cf9fe4c4012bb4377ff8">socket_fd_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlk_1_1_socket.html#a761f4c45152dc9d87dea3bcf686c328c">socket_type_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlk_1_1_socket.html#a7f7b47be9050f857356b62b604d65422">local_host_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlk_1_1_socket.html#a983d68b067e8448cbcc567d3ac5bb85a">local_port_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlk_1_1_socket.html#a06252547e0f98e3400af9b1c89eceb07">remote_host_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlk_1_1_socket.html#a2b4b5589272d1f3fa0302deb9bbd35b0">remote_port_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlk_1_1_socket.html#adb98be171901c680cee74336d0f2dc07">buffer_length_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlk_1_1_socket.html#a3e79569ae7aeb11c8b0ebd36c63abfb8">buffer_i_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlk_1_1_socket.html#a767be791a2c0ebcae835957d2aa8ed26">buffer_</a> [MAX_BUFF_SIZE]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlk_1_1_socket.html#aa36db31c466e93452d93032ba4be67c2">non_blocking_</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Listen for incoming messages on a given port.</p>
<dl class="user"><dt><b>Bindings info:</b></dt><dd>lib_name:'Socket_core' filename:'Socket_core/Socket_core' string_format:'%s:%d --&gt; %s:%d' string_args:'(*userdata)-&gt;<a class="el" href="classlk_1_1_socket.html#a11c46a4c0dd605b83ab6dc774c8ff8f1">localHost()</a>, (*userdata)-&gt;<a class="el" href="classlk_1_1_socket.html#a5f760e4ea2b87d0d2fc88b196513d15f">localPort()</a>, (*userdata)-&gt;<a class="el" href="classlk_1_1_socket.html#a3256d01583c6eaa054e7c7045ccb1ed0">remoteHost()</a>, (*userdata)-&gt;<a class="el" href="classlk_1_1_socket.html#a6bc589c2cf9674f0358f73574b4ce46c">remotePort()</a>' </dd></dl>

<p>Definition at line <a class="el" href="lk_2include_2lk_2_socket_8h_source.html#l00067">67</a> of file <a class="el" href="lk_2include_2lk_2_socket_8h_source.html">Socket.h</a>.</p>
</div><hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="abe2b7218a4b570e018867cd8c4ff2df6"></a><!-- doxytag: member="lk::Socket::SocketType" ref="abe2b7218a4b570e018867cd8c4ff2df6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classlk_1_1_socket.html#abe2b7218a4b570e018867cd8c4ff2df6">lk::Socket::SocketType</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="abe2b7218a4b570e018867cd8c4ff2df6a9443335bd7ba34c6e9297943837371d0"></a><!-- doxytag: member="TCP" ref="abe2b7218a4b570e018867cd8c4ff2df6a9443335bd7ba34c6e9297943837371d0" args="" -->TCP</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="abe2b7218a4b570e018867cd8c4ff2df6a26281914ac3cb16c1482b5c12adc1693"></a><!-- doxytag: member="UDP" ref="abe2b7218a4b570e018867cd8c4ff2df6a26281914ac3cb16c1482b5c12adc1693" args="" -->UDP</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="lk_2include_2lk_2_socket_8h_source.html#l00096">96</a> of file <a class="el" href="lk_2include_2lk_2_socket_8h_source.html">Socket.h</a>.</p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a83ae0e009378df030f058b91ae9856a8"></a><!-- doxytag: member="lk::Socket::Socket" ref="a83ae0e009378df030f058b91ae9856a8" args="(int socket_type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lk::Socket::Socket </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>socket_type</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lk_2include_2lk_2_socket_8h_source.html#l00101">101</a> of file <a class="el" href="lk_2include_2lk_2_socket_8h_source.html">Socket.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad0adeb2122804372573b9ab789812a32"></a><!-- doxytag: member="lk::Socket::~Socket" ref="ad0adeb2122804372573b9ab789812a32" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lk::Socket::~Socket </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lk_2include_2lk_2_socket_8h_source.html#l00115">115</a> of file <a class="el" href="lk_2include_2lk_2_socket_8h_source.html">Socket.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9c0c4845a198a55574d3dc15997971c9"></a><!-- doxytag: member="lk::Socket::Socket" ref="a9c0c4845a198a55574d3dc15997971c9" args="(int fd, const char *local_host, const char *remote_host, int remote_port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lk::Socket::Socket </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>local_host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>remote_host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>remote_port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create a socket with an existing file descriptor. This is used as the result of an 'accept()' call. </p>

<p>Definition at line <a class="el" href="lk_2include_2lk_2_socket_8h_source.html#l00231">231</a> of file <a class="el" href="lk_2include_2lk_2_socket_8h_source.html">Socket.h</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="acb4fb9742882c0031ed9d024e974352d"></a><!-- doxytag: member="lk::Socket::accept" ref="acb4fb9742882c0031ed9d024e974352d" args="(lua_State *L)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="lk_2include_2lk_2_socket_8h.html#a038a308a5e7246ac41ca22c43d7209d1">LuaStackSize</a> lk::Socket::accept </td>
          <td>(</td>
          <td class="paramtype">lua_State *&#160;</td>
          <td class="paramname"><em>L</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Accept a new incomming connection. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>a new <a class="el" href="classlk_1_1_socket.html">lk.Socket</a> connected to the remote end. </dd></dl>

</div>
</div>
<a class="anchor" id="a4d2480874baed1375078906ba43dcb32"></a><!-- doxytag: member="lk::Socket::bind" ref="a4d2480874baed1375078906ba43dcb32" args="(const char *localhost=NULL, int port=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lk::Socket::bind </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>localhost</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Bind socket to a specific interface. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>bound port </dd></dl>

</div>
</div>
<a class="anchor" id="a76248c35f251aa3f65b9bf5674ec5c9c"></a><!-- doxytag: member="lk::Socket::close" ref="a76248c35f251aa3f65b9bf5674ec5c9c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lk::Socket::close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lk_2include_2lk_2_socket_8h_source.html#l00119">119</a> of file <a class="el" href="lk_2include_2lk_2_socket_8h_source.html">Socket.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3d100f48cdd22bbdbe95ae3436a5ae53"></a><!-- doxytag: member="lk::Socket::connect" ref="a3d100f48cdd22bbdbe95ae3436a5ae53" args="(const char *host, int port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool lk::Socket::connect </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Connect to a remote socket. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>false if the socket is not ready and we should waitWrite and 'connectFinish'. </dd></dl>

</div>
</div>
<a class="anchor" id="aa0d702461591f94aab61901e4e7a7571"></a><!-- doxytag: member="lk::Socket::connectFinish" ref="aa0d702461591f94aab61901e4e7a7571" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lk::Socket::connectFinish </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Finish connecting for NON-BLOCKING sockets. </p>

</div>
</div>
<a class="anchor" id="a26a08ec0c745f7e3a123694a4e116745"></a><!-- doxytag: member="lk::Socket::fd" ref="a26a08ec0c745f7e3a123694a4e116745" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lk::Socket::fd </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lk_2include_2lk_2_socket_8h_source.html#l00223">223</a> of file <a class="el" href="lk_2include_2lk_2_socket_8h_source.html">Socket.h</a>.</p>

</div>
</div>
<a class="anchor" id="a64a9baf86f2a2bf3779675ede1d3c51c"></a><!-- doxytag: member="lk::Socket::get_port" ref="a64a9baf86f2a2bf3779675ede1d3c51c" args="(int fd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int lk::Socket::get_port </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td><code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad75a0c97be6ab0bbdd39c1389b710dcf"></a><!-- doxytag: member="lk::Socket::listen" ref="ad75a0c97be6ab0bbdd39c1389b710dcf" args="(int backlog=BACKLOG)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lk::Socket::listen </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>backlog</em> = <code>BACKLOG</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Start listening for incoming connections. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">backlog</td><td>number of accepted connections in queue before refusing. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a11c46a4c0dd605b83ab6dc774c8ff8f1"></a><!-- doxytag: member="lk::Socket::localHost" ref="a11c46a4c0dd605b83ab6dc774c8ff8f1" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* lk::Socket::localHost </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Send a message packed with msgpack. Varying parameters. Request = remote call (uses msgpack to encode data). This is really just a sendMsg with a recvMsg. </p>

<p>Definition at line <a class="el" href="lk_2include_2lk_2_socket_8h_source.html#l00203">203</a> of file <a class="el" href="lk_2include_2lk_2_socket_8h_source.html">Socket.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5f760e4ea2b87d0d2fc88b196513d15f"></a><!-- doxytag: member="lk::Socket::localPort" ref="a5f760e4ea2b87d0d2fc88b196513d15f" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lk::Socket::localPort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lk_2include_2lk_2_socket_8h_source.html#l00207">207</a> of file <a class="el" href="lk_2include_2lk_2_socket_8h_source.html">Socket.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab12d3a828bc6e9bdd3d07707ddf922fc"></a><!-- doxytag: member="lk::Socket::port" ref="ab12d3a828bc6e9bdd3d07707ddf922fc" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lk::Socket::port </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lk_2include_2lk_2_socket_8h_source.html#l00219">219</a> of file <a class="el" href="lk_2include_2lk_2_socket_8h_source.html">Socket.h</a>.</p>

</div>
</div>
<a class="anchor" id="a35eba74ff9a0ed5ac80ed3726b2a2098"></a><!-- doxytag: member="lk::Socket::recv" ref="a35eba74ff9a0ed5ac80ed3726b2a2098" args="(lua_State *L)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="lk_2include_2lk_2_socket_8h.html#a038a308a5e7246ac41ca22c43d7209d1">LuaStackSize</a> lk::Socket::recv </td>
          <td>(</td>
          <td class="paramtype">lua_State *&#160;</td>
          <td class="paramname"><em>L</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Receive a message encoded by msgpack (blocks). For a server, this should typically be used inside the loop. We pass the lua_State to avoid mixing thread contexts. Receive a raw string (not encoded by msgpack). This IO call blocks. We pass the lua_State to avoid mixing thread contexts. </p>

</div>
</div>
<a class="anchor" id="a68adc3b118217f295ece83755165e85b"></a><!-- doxytag: member="lk::Socket::recvAll" ref="a68adc3b118217f295ece83755165e85b" args="(lua_State *L)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lk::Socket::recvAll </td>
          <td>(</td>
          <td class="paramtype">lua_State *&#160;</td>
          <td class="paramname"><em>L</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="adf259717b23a39f2468b1a3868ff59ac"></a><!-- doxytag: member="lk::Socket::recvBytes" ref="adf259717b23a39f2468b1a3868ff59ac" args="(lua_State *L, int sz)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lk::Socket::recvBytes </td>
          <td>(</td>
          <td class="paramtype">lua_State *&#160;</td>
          <td class="paramname"><em>L</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ae159b1b2479c93344ea0d3d0740e4e8a"></a><!-- doxytag: member="lk::Socket::recvLine" ref="ae159b1b2479c93344ea0d3d0740e4e8a" args="(lua_State *L)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lk::Socket::recvLine </td>
          <td>(</td>
          <td class="paramtype">lua_State *&#160;</td>
          <td class="paramname"><em>L</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a3256d01583c6eaa054e7c7045ccb1ed0"></a><!-- doxytag: member="lk::Socket::remoteHost" ref="a3256d01583c6eaa054e7c7045ccb1ed0" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* lk::Socket::remoteHost </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lk_2include_2lk_2_socket_8h_source.html#l00211">211</a> of file <a class="el" href="lk_2include_2lk_2_socket_8h_source.html">Socket.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6bc589c2cf9674f0358f73574b4ce46c"></a><!-- doxytag: member="lk::Socket::remotePort" ref="a6bc589c2cf9674f0358f73574b4ce46c" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lk::Socket::remotePort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lk_2include_2lk_2_socket_8h_source.html#l00215">215</a> of file <a class="el" href="lk_2include_2lk_2_socket_8h_source.html">Socket.h</a>.</p>

</div>
</div>
<a class="anchor" id="a85abcb14431946a2bcf7667d1be3b48d"></a><!-- doxytag: member="lk::Socket::run" ref="a85abcb14431946a2bcf7667d1be3b48d" args="(Thread *runner)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lk::Socket::run </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlubyk_1_1_thread.html">Thread</a> *&#160;</td>
          <td class="paramname"><em>runner</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a53b72311051bb0b8c7c8991d29637c81"></a><!-- doxytag: member="lk::Socket::send" ref="a53b72311051bb0b8c7c8991d29637c81" args="(lua_State *L)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lk::Socket::send </td>
          <td>(</td>
          <td class="paramtype">lua_State *&#160;</td>
          <td class="paramname"><em>L</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Send raw bytes without encoding with msgpack. param: string to send. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>number of bytes sent. </dd></dl>

</div>
</div>
<a class="anchor" id="ab5cda8b77898e7352d726a09cafd971b"></a><!-- doxytag: member="lk::Socket::setNonBlocking" ref="ab5cda8b77898e7352d726a09cafd971b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lk::Socket::setNonBlocking </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lk_2include_2lk_2_socket_8h_source.html#l00158">158</a> of file <a class="el" href="lk_2include_2lk_2_socket_8h_source.html">Socket.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2807a0dc800e448736a0bc78dff6a189"></a><!-- doxytag: member="lk::Socket::setRecvTimeout" ref="a2807a0dc800e448736a0bc78dff6a189" args="(int timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lk::Socket::setRecvTimeout </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lk_2include_2lk_2_socket_8h_source.html#l00150">150</a> of file <a class="el" href="lk_2include_2lk_2_socket_8h_source.html">Socket.h</a>.</p>

</div>
</div>
<a class="anchor" id="a670d8548ee9884f2eced8e84fb4467ce"></a><!-- doxytag: member="lk::Socket::setSendTimeout" ref="a670d8548ee9884f2eced8e84fb4467ce" args="(int timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lk::Socket::setSendTimeout </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lk_2include_2lk_2_socket_8h_source.html#l00154">154</a> of file <a class="el" href="lk_2include_2lk_2_socket_8h_source.html">Socket.h</a>.</p>

</div>
</div>
<a class="anchor" id="af6cda39a2671489150e9aecc069e369a"></a><!-- doxytag: member="lk::Socket::setTimeout" ref="af6cda39a2671489150e9aecc069e369a" args="(int timeout, int opt_name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lk::Socket::setTimeout </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>opt_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a767be791a2c0ebcae835957d2aa8ed26"></a><!-- doxytag: member="lk::Socket::buffer_" ref="a767be791a2c0ebcae835957d2aa8ed26" args="[MAX_BUFF_SIZE]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="classlk_1_1_socket.html#a767be791a2c0ebcae835957d2aa8ed26">lk::Socket::buffer_</a>[MAX_BUFF_SIZE]<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Buffer that contains received data not yet used by Lua. </p>

<p>Definition at line <a class="el" href="lk_2include_2lk_2_socket_8h_source.html#l00088">88</a> of file <a class="el" href="lk_2include_2lk_2_socket_8h_source.html">Socket.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3e79569ae7aeb11c8b0ebd36c63abfb8"></a><!-- doxytag: member="lk::Socket::buffer_i_" ref="a3e79569ae7aeb11c8b0ebd36c63abfb8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classlk_1_1_socket.html#a3e79569ae7aeb11c8b0ebd36c63abfb8">lk::Socket::buffer_i_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Bytes already used in the buffer. If buffer_i_ == buffer_length_: there is no more data in the buffer. </p>

<p>Definition at line <a class="el" href="lk_2include_2lk_2_socket_8h_source.html#l00084">84</a> of file <a class="el" href="lk_2include_2lk_2_socket_8h_source.html">Socket.h</a>.</p>

</div>
</div>
<a class="anchor" id="adb98be171901c680cee74336d0f2dc07"></a><!-- doxytag: member="lk::Socket::buffer_length_" ref="adb98be171901c680cee74336d0f2dc07" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classlk_1_1_socket.html#adb98be171901c680cee74336d0f2dc07">lk::Socket::buffer_length_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Number of bytes already received in the buffer. </p>

<p>Definition at line <a class="el" href="lk_2include_2lk_2_socket_8h_source.html#l00079">79</a> of file <a class="el" href="lk_2include_2lk_2_socket_8h_source.html">Socket.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7f7b47be9050f857356b62b604d65422"></a><!-- doxytag: member="lk::Socket::local_host_" ref="a7f7b47be9050f857356b62b604d65422" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classlk_1_1_socket.html#a7f7b47be9050f857356b62b604d65422">lk::Socket::local_host_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lk_2include_2lk_2_socket_8h_source.html#l00071">71</a> of file <a class="el" href="lk_2include_2lk_2_socket_8h_source.html">Socket.h</a>.</p>

</div>
</div>
<a class="anchor" id="a983d68b067e8448cbcc567d3ac5bb85a"></a><!-- doxytag: member="lk::Socket::local_port_" ref="a983d68b067e8448cbcc567d3ac5bb85a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classlk_1_1_socket.html#a983d68b067e8448cbcc567d3ac5bb85a">lk::Socket::local_port_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lk_2include_2lk_2_socket_8h_source.html#l00072">72</a> of file <a class="el" href="lk_2include_2lk_2_socket_8h_source.html">Socket.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa36db31c466e93452d93032ba4be67c2"></a><!-- doxytag: member="lk::Socket::non_blocking_" ref="aa36db31c466e93452d93032ba4be67c2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classlk_1_1_socket.html#aa36db31c466e93452d93032ba4be67c2">lk::Socket::non_blocking_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Non-blocking flag when setNonBlocking is called before creating the socket. </p>

<p>Definition at line <a class="el" href="lk_2include_2lk_2_socket_8h_source.html#l00093">93</a> of file <a class="el" href="lk_2include_2lk_2_socket_8h_source.html">Socket.h</a>.</p>

</div>
</div>
<a class="anchor" id="a06252547e0f98e3400af9b1c89eceb07"></a><!-- doxytag: member="lk::Socket::remote_host_" ref="a06252547e0f98e3400af9b1c89eceb07" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classlk_1_1_socket.html#a06252547e0f98e3400af9b1c89eceb07">lk::Socket::remote_host_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lk_2include_2lk_2_socket_8h_source.html#l00073">73</a> of file <a class="el" href="lk_2include_2lk_2_socket_8h_source.html">Socket.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2b4b5589272d1f3fa0302deb9bbd35b0"></a><!-- doxytag: member="lk::Socket::remote_port_" ref="a2b4b5589272d1f3fa0302deb9bbd35b0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classlk_1_1_socket.html#a2b4b5589272d1f3fa0302deb9bbd35b0">lk::Socket::remote_port_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lk_2include_2lk_2_socket_8h_source.html#l00074">74</a> of file <a class="el" href="lk_2include_2lk_2_socket_8h_source.html">Socket.h</a>.</p>

</div>
</div>
<a class="anchor" id="aec2063fff094cf9fe4c4012bb4377ff8"></a><!-- doxytag: member="lk::Socket::socket_fd_" ref="aec2063fff094cf9fe4c4012bb4377ff8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classlk_1_1_socket.html#aec2063fff094cf9fe4c4012bb4377ff8">lk::Socket::socket_fd_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lk_2include_2lk_2_socket_8h_source.html#l00069">69</a> of file <a class="el" href="lk_2include_2lk_2_socket_8h_source.html">Socket.h</a>.</p>

</div>
</div>
<a class="anchor" id="a761f4c45152dc9d87dea3bcf686c328c"></a><!-- doxytag: member="lk::Socket::socket_type_" ref="a761f4c45152dc9d87dea3bcf686c328c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classlk_1_1_socket.html#a761f4c45152dc9d87dea3bcf686c328c">lk::Socket::socket_type_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="lk_2include_2lk_2_socket_8h_source.html#l00070">70</a> of file <a class="el" href="lk_2include_2lk_2_socket_8h_source.html">Socket.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/gaspard/git/lubyk/modules/lk/include/lk/<a class="el" href="lk_2include_2lk_2_socket_8h_source.html">Socket.h</a></li>
</ul>
</div>


<hr class="footer"/><address class="footer"><small>
Generated on Thu Dec 8 2011 15:43:34 for lubyk by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>
